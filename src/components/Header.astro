---
import { NAVIGATION } from "@config/site";
import MobileMenu from "@components/react/MobileMenu";
import { Image } from "astro:assets";
import GarolaLogo from "@assets/garola_logo_white.webp";

const { currentPathname } = Astro.props;
const isActiveLink = (href: string): boolean => {
  return href === currentPathname;
};
---

<header
  class="sticky top-0 z-50 w-full border border-b-slate-700/20 bg-[#14171A] backdrop-blur-md shadow-sm"
>
  <nav
    class="container mx-auto flex h-20 items-center justify-between px-4 sm:px-6 lg:px-8"
  >
    <!-- Logo -->
    <div class="flex items-center justify-between w-full">
      <a href="/">
        <Image
          src={GarolaLogo}
          alt="Site Logo"
          width={128}
          height={32}
          decoding="async"
        />
      </a>

      <!-- Desktop Navigation -->
      <div class="hidden lg:flex lg:items-center lg:space-x-1">
        {
          NAVIGATION.map((item) => {
            const isActive = isActiveLink(item.href);
            return (
              <a
                href={item.href}
                class={`px-4 py-2 text-sm font-regular text-slate-400 hover:text-white uppercase rounded-lg transition-all relative group ${isActive ? "nav-active" : ""}`}
              >
                {item.name}
              </a>
            );
          })
        }
        <!-- CTA Button -->
        <div class="hidden lg:flex lg:items-center lg:space-x-4">
          <a
            href="/rfq"
            class="inline-flex items-center px-6 py-2.5 text-sm font-semibold text-white bg-[#DC2828] hover:bg-[#DC2828]/90 shadow-md hover:shadow-lg transition-all uppercase"
          >
            Cotizar
          </a>
        </div>
      </div>

      <!-- Mobile Menu Button -->
      <MobileMenu client:idle />
    </div>
  </nav>
</header>
